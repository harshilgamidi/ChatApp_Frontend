{"ast":null,"code":"var _jsxFileName = \"C:\\\\VideoChat\\\\video-group-meeting-master\\\\video-group-meeting-master\\\\client\\\\src\\\\components\\\\Chat\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nconst Chat = _ref => {\n  _s();\n  let {\n    display,\n    roomId\n  } = _ref;\n  const currentUser = sessionStorage.getItem('user');\n  const [msg, setMsg] = useState([]);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef();\n  useEffect(() => {\n    socket.on('FE-receive-message', _ref2 => {\n      let {\n        msg,\n        sender\n      } = _ref2;\n      setMsg(msgs => [...msgs, {\n        sender,\n        msg\n      }]);\n    });\n  }, []);\n\n  // Scroll to Bottom of Message List\n  useEffect(() => {\n    scrollToBottom();\n  }, [msg]);\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const sendMessage = e => {\n    if (e.key === 'Enter') {\n      const msg = e.target.value;\n      if (msg) {\n        socket.emit('BE-send-message', {\n          roomId,\n          msg,\n          sender: currentUser\n        });\n        inputRef.current.value = '';\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(ChatContainer, {\n    className: display ? '' : 'width0',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TopHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Group Chat Room\"), /*#__PURE__*/React.createElement(ChatArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MessageList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, msg && msg.map((_ref3, idx) => {\n    let {\n      sender,\n      msg\n    } = _ref3;\n    if (sender !== currentUser) {\n      return /*#__PURE__*/React.createElement(Message, {\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      }, sender), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }, msg));\n    } else {\n      return /*#__PURE__*/React.createElement(UserMessage, {\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, sender), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, msg));\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      float: 'left',\n      clear: 'both'\n    },\n    ref: messagesEndRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(BottomInput, {\n    ref: inputRef,\n    onKeyUp: sendMessage,\n    placeholder: \"Enter your message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n};\n_s(Chat, \"wUcUGs14ANWYdpj550d5Od2jUA8=\");\n_c = Chat;\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 25%;\n  hieght: 100%;\n  background-color: white;\n  transition: all 0.5s ease;\n  overflow: hidden;\n`;\n_c2 = ChatContainer;\nconst TopHeader = styled.div`\n  width: 100%;\n  margin-top: 15px;\n  font-weight: 600;\n  font-size: 20px;\n  color: black;\n`;\n_c3 = TopHeader;\nconst ChatArea = styled.div`\n  width: 100%;\n  height: 83%;\n  max-height: 83%;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n_c4 = ChatArea;\nconst MessageList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding: 15px;\n  color: #454552;\n`;\n_c5 = MessageList;\nconst Message = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 16px;\n  margin-top: 15px;\n  margin-left: 15px;\n  text-align: left;\n\n  > strong {\n    margin-left: 3px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    box-shadow: 0px 0px 3px #4ea1d3;\n    font-size: 14px;\n  }\n`;\n_c6 = Message;\nconst UserMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  width: 100%;\n  font-size: 16px;\n  margin-top: 15px;\n  text-align: right;\n\n  > strong {\n    margin-right: 35px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    margin-right: 30px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    background-color: #4ea1d3;\n    color: white;\n    font-size: 14px;\n    text-align: left;\n  }\n`;\n_c7 = UserMessage;\nconst BottomInput = styled.input`\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  padding: 15px;\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\n  box-sizing: border-box;\n  opacity: 0.7;\n\n  :focus {\n    outline: none;\n  }\n`;\n_c8 = BottomInput;\nexport default Chat;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Chat\");\n$RefreshReg$(_c2, \"ChatContainer\");\n$RefreshReg$(_c3, \"TopHeader\");\n$RefreshReg$(_c4, \"ChatArea\");\n$RefreshReg$(_c5, \"MessageList\");\n$RefreshReg$(_c6, \"Message\");\n$RefreshReg$(_c7, \"UserMessage\");\n$RefreshReg$(_c8, \"BottomInput\");","map":{"version":3,"names":["React","useEffect","useState","useRef","styled","socket","Chat","_ref","_s","display","roomId","currentUser","sessionStorage","getItem","msg","setMsg","messagesEndRef","inputRef","on","_ref2","sender","msgs","scrollToBottom","current","scrollIntoView","behavior","sendMessage","e","key","target","value","emit","createElement","ChatContainer","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","TopHeader","ChatArea","MessageList","map","_ref3","idx","Message","UserMessage","style","float","clear","ref","BottomInput","onKeyUp","placeholder","_c","div","_c2","_c3","_c4","_c5","_c6","_c7","input","_c8","$RefreshReg$"],"sources":["C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/src/components/Chat/Chat.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport socket from '../../socket';\n\nconst Chat = ({ display, roomId }) => {\n  const currentUser = sessionStorage.getItem('user');\n  const [msg, setMsg] = useState([]);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef();\n  \n  useEffect(() => {\n    socket.on('FE-receive-message', ({ msg, sender }) => {\n      setMsg((msgs) => [...msgs, { sender, msg }]);\n    });\n  }, []);\n\n  // Scroll to Bottom of Message List\n  useEffect(() => {scrollToBottom()}, [msg])\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth'});\n  }\n\n  const sendMessage = (e) => {\n    if (e.key === 'Enter') {\n      const msg = e.target.value;\n\n      if (msg) {\n        socket.emit('BE-send-message', { roomId, msg, sender: currentUser });\n        inputRef.current.value = '';\n      }\n    }\n  };\n\n  return (\n    <ChatContainer className={display ? '' : 'width0'}>\n      <TopHeader>Group Chat Room</TopHeader>\n      <ChatArea>\n        <MessageList>\n          {msg &&\n            msg.map(({ sender, msg }, idx) => {\n              if (sender !== currentUser) {\n                return (\n                  <Message key={idx}>\n                    <strong>{sender}</strong>\n                    <p>{msg}</p>\n                  </Message>\n                );\n              } else {\n                return (\n                  <UserMessage key={idx}>\n                    <strong>{sender}</strong>\n                    <p>{msg}</p>\n                  </UserMessage>\n                );\n              }\n            })}\n            <div style={{float:'left', clear: 'both'}} ref={messagesEndRef} />\n        </MessageList>\n      </ChatArea>\n      <BottomInput\n        ref={inputRef}\n        onKeyUp={sendMessage}\n        placeholder=\"Enter your message\"\n      />\n    </ChatContainer>\n  );\n};\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 25%;\n  hieght: 100%;\n  background-color: white;\n  transition: all 0.5s ease;\n  overflow: hidden;\n`;\n\nconst TopHeader = styled.div`\n  width: 100%;\n  margin-top: 15px;\n  font-weight: 600;\n  font-size: 20px;\n  color: black;\n`;\n\nconst ChatArea = styled.div`\n  width: 100%;\n  height: 83%;\n  max-height: 83%;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst MessageList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding: 15px;\n  color: #454552;\n`;\n\nconst Message = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 16px;\n  margin-top: 15px;\n  margin-left: 15px;\n  text-align: left;\n\n  > strong {\n    margin-left: 3px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    box-shadow: 0px 0px 3px #4ea1d3;\n    font-size: 14px;\n  }\n`;\n\nconst UserMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  width: 100%;\n  font-size: 16px;\n  margin-top: 15px;\n  text-align: right;\n\n  > strong {\n    margin-right: 35px;\n  }\n\n  > p {\n    max-width: 65%;\n    width: auto;\n    padding: 9px;\n    margin-top: 3px;\n    margin-right: 30px;\n    border: 1px solid rgb(78, 161, 211, 0.3);\n    border-radius: 15px;\n    background-color: #4ea1d3;\n    color: white;\n    font-size: 14px;\n    text-align: left;\n  }\n`;\n\nconst BottomInput = styled.input`\n  bottom: 0;\n  width: 100%;\n  height: 8%;\n  padding: 15px;\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\n  box-sizing: border-box;\n  opacity: 0.7;\n\n  :focus {\n    outline: none;\n  }\n`;\n\nexport default Chat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}