{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _toConsumableArray from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect,useRef}from'react';import Peer from'simple-peer';import styled from'styled-components';import socket from'../../socket';import VideoCard from'../Video/VideoCard';import BottomBar from'../BottomBar/BottomBar';import Chat from'../Chat/Chat';var Room=function Room(props){var currentUser=sessionStorage.getItem('user');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),peers=_useState2[0],setPeers=_useState2[1];var _useState3=useState({localUser:{video:true,audio:true}}),_useState4=_slicedToArray(_useState3,2),userVideoAudio=_useState4[0],setUserVideoAudio=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),videoDevices=_useState6[0],setVideoDevices=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),displayChat=_useState8[0],setDisplayChat=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),screenShare=_useState10[0],setScreenShare=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showVideoDevices=_useState12[0],setShowVideoDevices=_useState12[1];var peersRef=useRef([]);var userVideoRef=useRef();var screenTrackRef=useRef();var userStream=useRef();var roomId=props.match.params.roomId;useEffect(function(){// Get Video Devices\nnavigator.mediaDevices.enumerateDevices().then(function(devices){var filtered=devices.filter(function(device){return device.kind==='videoinput';});setVideoDevices(filtered);});// Set Back Button Event\nwindow.addEventListener('popstate',goToBack);// Connect Camera & Mic\nnavigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(stream){userVideoRef.current.srcObject=stream;userStream.current=stream;socket.emit('BE-join-room',{roomId:roomId,userName:currentUser});socket.on('FE-user-join',function(users){// all users\nvar peers=[];users.forEach(function(_ref){var userId=_ref.userId,info=_ref.info;var userName=info.userName,video=info.video,audio=info.audio;if(userName!==currentUser){var peer=createPeer(userId,socket.id,stream);peer.userName=userName;peer.peerID=userId;peersRef.current.push({peerID:userId,peer:peer,userName:userName});peers.push(peer);setUserVideoAudio(function(preList){return _objectSpread(_objectSpread({},preList),{},_defineProperty({},peer.userName,{video:video,audio:audio}));});}});setPeers(peers);});socket.on('FE-receive-call',function(_ref2){var signal=_ref2.signal,from=_ref2.from,info=_ref2.info;var userName=info.userName,video=info.video,audio=info.audio;var peerIdx=findPeer(from);if(!peerIdx){var peer=addPeer(signal,from,stream);peer.userName=userName;peersRef.current.push({peerID:from,peer:peer,userName:userName});setPeers(function(users){return[].concat(_toConsumableArray(users),[peer]);});setUserVideoAudio(function(preList){return _objectSpread(_objectSpread({},preList),{},_defineProperty({},peer.userName,{video:video,audio:audio}));});}});socket.on('FE-call-accepted',function(_ref3){var signal=_ref3.signal,answerId=_ref3.answerId;var peerIdx=findPeer(answerId);peerIdx.peer.signal(signal);});socket.on('FE-user-leave',function(_ref4){var userId=_ref4.userId,userName=_ref4.userName;var peerIdx=findPeer(userId);peerIdx.peer.destroy();setPeers(function(users){users=users.filter(function(user){return user.peerID!==peerIdx.peer.peerID;});return _toConsumableArray(users);});peersRef.current=peersRef.current.filter(function(_ref5){var peerID=_ref5.peerID;return peerID!==userId;});});});socket.on('FE-toggle-camera',function(_ref6){var userId=_ref6.userId,switchTarget=_ref6.switchTarget;var peerIdx=findPeer(userId);setUserVideoAudio(function(preList){var video=preList[peerIdx.userName].video;var audio=preList[peerIdx.userName].audio;if(switchTarget==='video')video=!video;else audio=!audio;return _objectSpread(_objectSpread({},preList),{},_defineProperty({},peerIdx.userName,{video:video,audio:audio}));});});return function(){socket.disconnect();};// eslint-disable-next-line\n},[]);function createPeer(userId,caller,stream){var peer=new Peer({initiator:true,trickle:false,stream:stream});peer.on('signal',function(signal){socket.emit('BE-call-user',{userToCall:userId,from:caller,signal:signal});});peer.on('disconnect',function(){peer.destroy();});return peer;}function addPeer(incomingSignal,callerId,stream){var peer=new Peer({initiator:false,trickle:false,stream:stream});peer.on('signal',function(signal){socket.emit('BE-accept-call',{signal:signal,to:callerId});});peer.on('disconnect',function(){peer.destroy();});peer.signal(incomingSignal);return peer;}function findPeer(id){return peersRef.current.find(function(p){return p.peerID===id;});}function createUserVideo(peer,index,arr){return/*#__PURE__*/React.createElement(VideoBox,{className:\"width-peer\".concat(peers.length>8?'':peers.length),onClick:expandScreen,key:index},writeUserName(peer.userName),/*#__PURE__*/React.createElement(FaIcon,{className:\"fas fa-expand\"}),/*#__PURE__*/React.createElement(VideoCard,{key:index,peer:peer,number:arr.length}));}function writeUserName(userName,index){if(userVideoAudio.hasOwnProperty(userName)){if(!userVideoAudio[userName].video){return/*#__PURE__*/React.createElement(UserName,{key:userName},userName);}}}// Open Chat\nvar clickChat=function clickChat(e){e.stopPropagation();setDisplayChat(!displayChat);};// BackButton\nvar goToBack=function goToBack(e){e.preventDefault();socket.emit('BE-leave-room',{roomId:roomId,leaver:currentUser});sessionStorage.removeItem('user');window.location.href='/';};var toggleCameraAudio=function toggleCameraAudio(e){var target=e.target.getAttribute('data-switch');setUserVideoAudio(function(preList){var videoSwitch=preList['localUser'].video;var audioSwitch=preList['localUser'].audio;if(target==='video'){var userVideoTrack=userVideoRef.current.srcObject.getVideoTracks()[0];videoSwitch=!videoSwitch;userVideoTrack.enabled=videoSwitch;}else{var userAudioTrack=userVideoRef.current.srcObject.getAudioTracks()[0];audioSwitch=!audioSwitch;if(userAudioTrack){userAudioTrack.enabled=audioSwitch;}else{userStream.current.getAudioTracks()[0].enabled=audioSwitch;}}return _objectSpread(_objectSpread({},preList),{},{localUser:{video:videoSwitch,audio:audioSwitch}});});socket.emit('BE-toggle-camera-audio',{roomId:roomId,switchTarget:target});};var clickScreenSharing=function clickScreenSharing(){if(!screenShare){navigator.mediaDevices.getDisplayMedia({cursor:true}).then(function(stream){var screenTrack=stream.getTracks()[0];peersRef.current.forEach(function(_ref7){var peer=_ref7.peer;// replaceTrack (oldTrack, newTrack, oldStream);\npeer.replaceTrack(peer.streams[0].getTracks().find(function(track){return track.kind==='video';}),screenTrack,userStream.current);});// Listen click end\nscreenTrack.onended=function(){peersRef.current.forEach(function(_ref8){var peer=_ref8.peer;peer.replaceTrack(screenTrack,peer.streams[0].getTracks().find(function(track){return track.kind==='video';}),userStream.current);});userVideoRef.current.srcObject=userStream.current;setScreenShare(false);};userVideoRef.current.srcObject=stream;screenTrackRef.current=screenTrack;setScreenShare(true);});}else{screenTrackRef.current.onended();}};var expandScreen=function expandScreen(e){var elem=e.target;if(elem.requestFullscreen){elem.requestFullscreen();}else if(elem.mozRequestFullScreen){/* Firefox */elem.mozRequestFullScreen();}else if(elem.webkitRequestFullscreen){/* Chrome, Safari & Opera */elem.webkitRequestFullscreen();}else if(elem.msRequestFullscreen){/* IE/Edge */elem.msRequestFullscreen();}};var clickBackground=function clickBackground(){if(!showVideoDevices)return;setShowVideoDevices(false);};var clickCameraDevice=function clickCameraDevice(event){if(event&&event.target&&event.target.dataset&&event.target.dataset.value){var deviceId=event.target.dataset.value;var enabledAudio=userVideoRef.current.srcObject.getAudioTracks()[0].enabled;navigator.mediaDevices.getUserMedia({video:{deviceId:deviceId},audio:enabledAudio}).then(function(stream){var newStreamTrack=stream.getTracks().find(function(track){return track.kind==='video';});var oldStreamTrack=userStream.current.getTracks().find(function(track){return track.kind==='video';});userStream.current.removeTrack(oldStreamTrack);userStream.current.addTrack(newStreamTrack);peersRef.current.forEach(function(_ref9){var peer=_ref9.peer;// replaceTrack (oldTrack, newTrack, oldStream);\npeer.replaceTrack(oldStreamTrack,newStreamTrack,userStream.current);});});}};return/*#__PURE__*/React.createElement(RoomContainer,{onClick:clickBackground},/*#__PURE__*/React.createElement(VideoAndBarContainer,null,/*#__PURE__*/React.createElement(VideoContainer,null,/*#__PURE__*/React.createElement(VideoBox,{className:\"width-peer\".concat(peers.length>8?'':peers.length)},userVideoAudio['localUser'].video?null:/*#__PURE__*/React.createElement(UserName,null,currentUser),/*#__PURE__*/React.createElement(FaIcon,{className:\"fas fa-expand\"}),/*#__PURE__*/React.createElement(MyVideo,{onClick:expandScreen,ref:userVideoRef,muted:true,autoPlay:true,playInline:true})),peers&&peers.map(function(peer,index,arr){return createUserVideo(peer,index,arr);})),/*#__PURE__*/React.createElement(BottomBar,{clickScreenSharing:clickScreenSharing,clickChat:clickChat,clickCameraDevice:clickCameraDevice,goToBack:goToBack,toggleCameraAudio:toggleCameraAudio,userVideoAudio:userVideoAudio['localUser'],screenShare:screenShare,videoDevices:videoDevices,showVideoDevices:showVideoDevices,setShowVideoDevices:setShowVideoDevices})),/*#__PURE__*/React.createElement(Chat,{display:displayChat,roomId:roomId}));};var RoomContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  max-height: 100vh;\\n  flex-direction: row;\\n\"])));var VideoContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  max-width: 100%;\\n  height: 92%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  padding: 15px;\\n  box-sizing: border-box;\\n  gap: 10px;\\n\"])));var VideoAndBarContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100vh;\\n\"])));var MyVideo=styled.video(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));var VideoBox=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  > video {\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  :hover {\\n    > i {\\n      display: block;\\n    }\\n  }\\n\"])));var UserName=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  font-size: calc(20px + 5vmin);\\n  z-index: 1;\\n\"])));var FaIcon=styled.i(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: none;\\n  position: absolute;\\n  right: 15px;\\n  top: 15px;\\n\"])));export default Room;","map":{"version":3,"names":["React","useState","useEffect","useRef","Peer","styled","socket","VideoCard","BottomBar","Chat","Room","props","currentUser","sessionStorage","getItem","_useState","_useState2","_slicedToArray","peers","setPeers","_useState3","localUser","video","audio","_useState4","userVideoAudio","setUserVideoAudio","_useState5","_useState6","videoDevices","setVideoDevices","_useState7","_useState8","displayChat","setDisplayChat","_useState9","_useState10","screenShare","setScreenShare","_useState11","_useState12","showVideoDevices","setShowVideoDevices","peersRef","userVideoRef","screenTrackRef","userStream","roomId","match","params","navigator","mediaDevices","enumerateDevices","then","devices","filtered","filter","device","kind","window","addEventListener","goToBack","getUserMedia","stream","current","srcObject","emit","userName","on","users","forEach","_ref","userId","info","peer","createPeer","id","peerID","push","preList","_objectSpread","_defineProperty","_ref2","signal","from","peerIdx","findPeer","addPeer","concat","_toConsumableArray","_ref3","answerId","_ref4","destroy","user","_ref5","_ref6","switchTarget","disconnect","caller","initiator","trickle","userToCall","incomingSignal","callerId","to","find","p","createUserVideo","index","arr","createElement","VideoBox","className","length","onClick","expandScreen","key","writeUserName","FaIcon","number","hasOwnProperty","UserName","clickChat","e","stopPropagation","preventDefault","leaver","removeItem","location","href","toggleCameraAudio","target","getAttribute","videoSwitch","audioSwitch","userVideoTrack","getVideoTracks","enabled","userAudioTrack","getAudioTracks","clickScreenSharing","getDisplayMedia","cursor","screenTrack","getTracks","_ref7","replaceTrack","streams","track","onended","_ref8","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","clickBackground","clickCameraDevice","event","dataset","value","deviceId","enabledAudio","newStreamTrack","oldStreamTrack","removeTrack","addTrack","_ref9","RoomContainer","VideoAndBarContainer","VideoContainer","MyVideo","ref","muted","autoPlay","playInline","map","display","div","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","i","_templateObject7"],"sources":["C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/src/components/Room/Room.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Peer from 'simple-peer';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nimport VideoCard from '../Video/VideoCard';\nimport BottomBar from '../BottomBar/BottomBar';\nimport Chat from '../Chat/Chat';\n\nconst Room = (props) => {\n  const currentUser = sessionStorage.getItem('user');\n  const [peers, setPeers] = useState([]);\n  const [userVideoAudio, setUserVideoAudio] = useState({\n    localUser: { video: true, audio: true },\n  });\n  const [videoDevices, setVideoDevices] = useState([]);\n  const [displayChat, setDisplayChat] = useState(false);\n  const [screenShare, setScreenShare] = useState(false);\n  const [showVideoDevices, setShowVideoDevices] = useState(false);\n  const peersRef = useRef([]);\n  const userVideoRef = useRef();\n  const screenTrackRef = useRef();\n  const userStream = useRef();\n  const roomId = props.match.params.roomId;\n\n  useEffect(() => {\n    // Get Video Devices\n    navigator.mediaDevices.enumerateDevices().then((devices) => {\n      const filtered = devices.filter((device) => device.kind === 'videoinput');\n      setVideoDevices(filtered);\n    });\n\n    // Set Back Button Event\n    window.addEventListener('popstate', goToBack);\n\n    // Connect Camera & Mic\n    navigator.mediaDevices\n      .getUserMedia({ video: true, audio: true })\n      .then((stream) => {\n        userVideoRef.current.srcObject = stream;\n        userStream.current = stream;\n\n        socket.emit('BE-join-room', { roomId, userName: currentUser });\n        socket.on('FE-user-join', (users) => {\n          // all users\n          const peers = [];\n          users.forEach(({ userId, info }) => {\n            let { userName, video, audio } = info;\n\n            if (userName !== currentUser) {\n              const peer = createPeer(userId, socket.id, stream);\n\n              peer.userName = userName;\n              peer.peerID = userId;\n\n              peersRef.current.push({\n                peerID: userId,\n                peer,\n                userName,\n              });\n              peers.push(peer);\n\n              setUserVideoAudio((preList) => {\n                return {\n                  ...preList,\n                  [peer.userName]: { video, audio },\n                };\n              });\n            }\n          });\n\n          setPeers(peers);\n        });\n\n        socket.on('FE-receive-call', ({ signal, from, info }) => {\n          let { userName, video, audio } = info;\n          const peerIdx = findPeer(from);\n\n          if (!peerIdx) {\n            const peer = addPeer(signal, from, stream);\n\n            peer.userName = userName;\n\n            peersRef.current.push({\n              peerID: from,\n              peer,\n              userName: userName,\n            });\n            setPeers((users) => {\n              return [...users, peer];\n            });\n            setUserVideoAudio((preList) => {\n              return {\n                ...preList,\n                [peer.userName]: { video, audio },\n              };\n            });\n          }\n        });\n\n        socket.on('FE-call-accepted', ({ signal, answerId }) => {\n          const peerIdx = findPeer(answerId);\n          peerIdx.peer.signal(signal);\n        });\n\n        socket.on('FE-user-leave', ({ userId, userName }) => {\n          const peerIdx = findPeer(userId);\n          peerIdx.peer.destroy();\n          setPeers((users) => {\n            users = users.filter((user) => user.peerID !== peerIdx.peer.peerID);\n            return [...users];\n          });\n          peersRef.current = peersRef.current.filter(({ peerID }) => peerID !== userId );\n        });\n      });\n\n    socket.on('FE-toggle-camera', ({ userId, switchTarget }) => {\n      const peerIdx = findPeer(userId);\n\n      setUserVideoAudio((preList) => {\n        let video = preList[peerIdx.userName].video;\n        let audio = preList[peerIdx.userName].audio;\n\n        if (switchTarget === 'video') video = !video;\n        else audio = !audio;\n\n        return {\n          ...preList,\n          [peerIdx.userName]: { video, audio },\n        };\n      });\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  function createPeer(userId, caller, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream,\n    });\n\n    peer.on('signal', (signal) => {\n      socket.emit('BE-call-user', {\n        userToCall: userId,\n        from: caller,\n        signal,\n      });\n    });\n    peer.on('disconnect', () => {\n      peer.destroy();\n    });\n\n    return peer;\n  }\n\n  function addPeer(incomingSignal, callerId, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream,\n    });\n\n    peer.on('signal', (signal) => {\n      socket.emit('BE-accept-call', { signal, to: callerId });\n    });\n\n    peer.on('disconnect', () => {\n      peer.destroy();\n    });\n\n    peer.signal(incomingSignal);\n\n    return peer;\n  }\n\n  function findPeer(id) {\n    return peersRef.current.find((p) => p.peerID === id);\n  }\n\n  function createUserVideo(peer, index, arr) {\n    return (\n      <VideoBox\n        className={`width-peer${peers.length > 8 ? '' : peers.length}`}\n        onClick={expandScreen}\n        key={index}\n      >\n        {writeUserName(peer.userName)}\n        <FaIcon className='fas fa-expand' />\n        <VideoCard key={index} peer={peer} number={arr.length} />\n      </VideoBox>\n    );\n  }\n\n  function writeUserName(userName, index) {\n    if (userVideoAudio.hasOwnProperty(userName)) {\n      if (!userVideoAudio[userName].video) {\n        return <UserName key={userName}>{userName}</UserName>;\n      }\n    }\n  }\n\n  // Open Chat\n  const clickChat = (e) => {\n    e.stopPropagation();\n    setDisplayChat(!displayChat);\n  };\n\n  // BackButton\n  const goToBack = (e) => {\n    e.preventDefault();\n    socket.emit('BE-leave-room', { roomId, leaver: currentUser });\n    sessionStorage.removeItem('user');\n    window.location.href = '/';\n  };\n\n  const toggleCameraAudio = (e) => {\n    const target = e.target.getAttribute('data-switch');\n\n    setUserVideoAudio((preList) => {\n      let videoSwitch = preList['localUser'].video;\n      let audioSwitch = preList['localUser'].audio;\n\n      if (target === 'video') {\n        const userVideoTrack = userVideoRef.current.srcObject.getVideoTracks()[0];\n        videoSwitch = !videoSwitch;\n        userVideoTrack.enabled = videoSwitch;\n      } else {\n        const userAudioTrack = userVideoRef.current.srcObject.getAudioTracks()[0];\n        audioSwitch = !audioSwitch;\n\n        if (userAudioTrack) {\n          userAudioTrack.enabled = audioSwitch;\n        } else {\n          userStream.current.getAudioTracks()[0].enabled = audioSwitch;\n        }\n      }\n\n      return {\n        ...preList,\n        localUser: { video: videoSwitch, audio: audioSwitch },\n      };\n    });\n\n    socket.emit('BE-toggle-camera-audio', { roomId, switchTarget: target });\n  };\n\n  const clickScreenSharing = () => {\n    if (!screenShare) {\n      navigator.mediaDevices\n        .getDisplayMedia({ cursor: true })\n        .then((stream) => {\n          const screenTrack = stream.getTracks()[0];\n\n          peersRef.current.forEach(({ peer }) => {\n            // replaceTrack (oldTrack, newTrack, oldStream);\n            peer.replaceTrack(\n              peer.streams[0]\n                .getTracks()\n                .find((track) => track.kind === 'video'),\n              screenTrack,\n              userStream.current\n            );\n          });\n\n          // Listen click end\n          screenTrack.onended = () => {\n            peersRef.current.forEach(({ peer }) => {\n              peer.replaceTrack(\n                screenTrack,\n                peer.streams[0]\n                  .getTracks()\n                  .find((track) => track.kind === 'video'),\n                userStream.current\n              );\n            });\n            userVideoRef.current.srcObject = userStream.current;\n            setScreenShare(false);\n          };\n\n          userVideoRef.current.srcObject = stream;\n          screenTrackRef.current = screenTrack;\n          setScreenShare(true);\n        });\n    } else {\n      screenTrackRef.current.onended();\n    }\n  };\n\n  const expandScreen = (e) => {\n    const elem = e.target;\n\n    if (elem.requestFullscreen) {\n      elem.requestFullscreen();\n    } else if (elem.mozRequestFullScreen) {\n      /* Firefox */\n      elem.mozRequestFullScreen();\n    } else if (elem.webkitRequestFullscreen) {\n      /* Chrome, Safari & Opera */\n      elem.webkitRequestFullscreen();\n    } else if (elem.msRequestFullscreen) {\n      /* IE/Edge */\n      elem.msRequestFullscreen();\n    }\n  };\n\n  const clickBackground = () => {\n    if (!showVideoDevices) return;\n\n    setShowVideoDevices(false);\n  };\n\n  const clickCameraDevice = (event) => {\n    if (event && event.target && event.target.dataset && event.target.dataset.value) {\n      const deviceId = event.target.dataset.value;\n      const enabledAudio = userVideoRef.current.srcObject.getAudioTracks()[0].enabled;\n\n      navigator.mediaDevices\n        .getUserMedia({ video: { deviceId }, audio: enabledAudio })\n        .then((stream) => {\n          const newStreamTrack = stream.getTracks().find((track) => track.kind === 'video');\n          const oldStreamTrack = userStream.current\n            .getTracks()\n            .find((track) => track.kind === 'video');\n\n          userStream.current.removeTrack(oldStreamTrack);\n          userStream.current.addTrack(newStreamTrack);\n\n          peersRef.current.forEach(({ peer }) => {\n            // replaceTrack (oldTrack, newTrack, oldStream);\n            peer.replaceTrack(\n              oldStreamTrack,\n              newStreamTrack,\n              userStream.current\n            );\n          });\n        });\n    }\n  };\n\n  return (\n    <RoomContainer onClick={clickBackground}>\n      <VideoAndBarContainer>\n        <VideoContainer>\n          {/* Current User Video */}\n          <VideoBox\n            className={`width-peer${peers.length > 8 ? '' : peers.length}`}\n          >\n            {userVideoAudio['localUser'].video ? null : (\n              <UserName>{currentUser}</UserName>\n            )}\n            <FaIcon className='fas fa-expand' />\n            <MyVideo\n              onClick={expandScreen}\n              ref={userVideoRef}\n              muted\n              autoPlay\n              playInline\n            ></MyVideo>\n          </VideoBox>\n          {/* Joined User Vidoe */}\n          {peers &&\n            peers.map((peer, index, arr) => createUserVideo(peer, index, arr))}\n        </VideoContainer>\n        <BottomBar\n          clickScreenSharing={clickScreenSharing}\n          clickChat={clickChat}\n          clickCameraDevice={clickCameraDevice}\n          goToBack={goToBack}\n          toggleCameraAudio={toggleCameraAudio}\n          userVideoAudio={userVideoAudio['localUser']}\n          screenShare={screenShare}\n          videoDevices={videoDevices}\n          showVideoDevices={showVideoDevices}\n          setShowVideoDevices={setShowVideoDevices}\n        />\n      </VideoAndBarContainer>\n      <Chat display={displayChat} roomId={roomId} />\n    </RoomContainer>\n  );\n};\n\nconst RoomContainer = styled.div`\n  display: flex;\n  width: 100%;\n  max-height: 100vh;\n  flex-direction: row;\n`;\n\nconst VideoContainer = styled.div`\n  max-width: 100%;\n  height: 92%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px;\n  box-sizing: border-box;\n  gap: 10px;\n`;\n\nconst VideoAndBarContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100vh;\n`;\n\nconst MyVideo = styled.video``;\n\nconst VideoBox = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :hover {\n    > i {\n      display: block;\n    }\n  }\n`;\n\nconst UserName = styled.div`\n  position: absolute;\n  font-size: calc(20px + 5vmin);\n  z-index: 1;\n`;\n\nconst FaIcon = styled.i`\n  display: none;\n  position: absolute;\n  right: 15px;\n  top: 15px;\n`;\n\nexport default Room;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}