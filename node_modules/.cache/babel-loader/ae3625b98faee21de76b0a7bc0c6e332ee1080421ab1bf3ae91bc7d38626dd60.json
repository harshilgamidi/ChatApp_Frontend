{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useRef,useState,useEffect}from'react';import styled from'styled-components';import socket from'../../socket';var Main=function Main(props){var roomRef=useRef();var userRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),err=_useState2[0],setErr=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errMsg=_useState4[0],setErrMsg=_useState4[1];useEffect(function(){socket.on('FE-error-user-exist',function(_ref){var error=_ref.error;if(!error){var roomName=roomRef.current.value;var userName=userRef.current.value;sessionStorage.setItem('user',userName);props.history.push(\"/room/\".concat(roomName));}else{setErr(error);setErrMsg('User name already exist');}});},[props.history]);function clickJoin(){var roomName=roomRef.current.value;var userName=userRef.current.value;if(!roomName||!userName){setErr(true);setErrMsg('Enter Room Name or User Name');}else{socket.emit('BE-check-user',{roomId:roomName,userName:userName});}}return/*#__PURE__*/React.createElement(MainContainer,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"roomName\"},\"Room Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"roomName\",ref:roomRef})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"userName\"},\"User Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"userName\",ref:userRef})),/*#__PURE__*/React.createElement(JoinButton,{onClick:clickJoin},\" Join \"),err?/*#__PURE__*/React.createElement(Error,null,errMsg):null);};var MainContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Row=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  margin-top: 15px;\\n  line-height: 35px;\\n\"])));var Label=styled.label(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\"])));var Input=styled.input(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 150px;\\n  height: 35px;\\n  margin-left: 15px;\\n  padding-left: 10px;\\n  outline: none;\\n  border: none;\\n  border-radius: 5px;\\n\"])));var Error=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n  font-size: 20px;\\n  color: #e85a71;\\n\"])));var JoinButton=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  height: 40px;\\n  margin-top: 35px;\\n  outline: none;\\n  border: none;\\n  border-radius: 15px;\\n  color: #d8e9ef;\\n  background-color: #4ea1d3;\\n  font-size: 25px;\\n  font-weight: 500;\\n\\n  :hover {\\n    background-color: #7bb1d1;\\n    cursor: pointer;\\n  }\\n\"])));export default Main;","map":{"version":3,"names":["React","useRef","useState","useEffect","styled","socket","Main","props","roomRef","userRef","_useState","_useState2","_slicedToArray","err","setErr","_useState3","_useState4","errMsg","setErrMsg","on","_ref","error","roomName","current","value","userName","sessionStorage","setItem","history","push","concat","clickJoin","emit","roomId","createElement","MainContainer","Row","Label","htmlFor","Input","type","id","ref","JoinButton","onClick","Error","div","_templateObject","_taggedTemplateLiteral","_templateObject2","label","_templateObject3","input","_templateObject4","_templateObject5","button","_templateObject6"],"sources":["C:/VideoChat/video-group-meeting-master/video-group-meeting-master/client/src/components/Main/Main.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport socket from '../../socket';\n\nconst Main = (props) => {\n  const roomRef = useRef();\n  const userRef = useRef();\n  const [err, setErr] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n\n  useEffect(() => {\n\n    socket.on('FE-error-user-exist', ({ error }) => {\n      if (!error) {\n        const roomName = roomRef.current.value;\n        const userName = userRef.current.value;\n\n        sessionStorage.setItem('user', userName);\n        props.history.push(`/room/${roomName}`);\n      } else {\n        setErr(error);\n        setErrMsg('User name already exist');\n      }\n    });\n  }, [props.history]);\n\n  function clickJoin() {\n    const roomName = roomRef.current.value;\n    const userName = userRef.current.value;\n\n    if (!roomName || !userName) {\n      setErr(true);\n      setErrMsg('Enter Room Name or User Name');\n    } else {\n      socket.emit('BE-check-user', { roomId: roomName, userName });\n    }\n  }\n\n  return (\n    <MainContainer>\n      <Row>\n        <Label htmlFor=\"roomName\">Room Name</Label>\n        <Input type=\"text\" id=\"roomName\" ref={roomRef} />\n      </Row>\n      <Row>\n        <Label htmlFor=\"userName\">User Name</Label>\n        <Input type=\"text\" id=\"userName\" ref={userRef} />\n      </Row>\n      <JoinButton onClick={clickJoin}> Join </JoinButton>\n      {err ? <Error>{errMsg}</Error> : null}\n    </MainContainer>\n  );\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 15px;\n  line-height: 35px;\n`;\n\nconst Label = styled.label``;\n\nconst Input = styled.input`\n  width: 150px;\n  height: 35px;\n  margin-left: 15px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n`;\n\nconst Error = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  color: #e85a71;\n`;\n\nconst JoinButton = styled.button`\n  height: 40px;\n  margin-top: 35px;\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: #4ea1d3;\n  font-size: 25px;\n  font-weight: 500;\n\n  :hover {\n    background-color: #7bb1d1;\n    cursor: pointer;\n  }\n`;\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}